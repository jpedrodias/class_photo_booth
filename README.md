# Class-Photo-Booth
O objetivo da aplicaÃ§Ã£o **Class Photo Booth** Ã© permitir a captura de fotografias de alunos por turma. A aplicaÃ§Ã£o facilita a gestÃ£o, visualizaÃ§Ã£o e exportaÃ§Ã£o das fotografias de forma organizada.

## ğŸ“‹ Funcionalidades

```
ğŸ“¸ CLASS PHOTO BOOTH v4.1
Sistema Completo de GestÃ£o de Fotografias Escolares

  ğŸ” SISTEMA DE AUTENTICAÃ‡ÃƒO COMPLETO
  â”œâ”€ ğŸ“§ Registo com verificaÃ§Ã£o por email
  â”œâ”€ ğŸ”‘ Login seguro com proteÃ§Ã£o anti-brute force
  â”œâ”€ ğŸ”„ RecuperaÃ§Ã£o de password via email
  â”œâ”€ ğŸ‘¥ Sistema de roles (none/viewer/editor/admin)
  â”œâ”€ ğŸ›¡ï¸ Bloqueio automÃ¡tico de IPs suspeitos
  â”œâ”€ ğŸ“Š Auditoria completa de acessos
  â””â”€ âš¡ Primeiro utilizador promovido automaticamente a admin

  ğŸ‘¤ GESTÃƒO AVANÃ‡ADA DE UTILIZADORES
  â”œâ”€ â• CriaÃ§Ã£o de contas com validaÃ§Ã£o de email
  â”œâ”€ âœï¸ EdiÃ§Ã£o de dados e permissÃµes
  â”œâ”€ ğŸ”‘ Reset de passwords por administradores
  â”œâ”€ ï¿½ GestÃ£o de roles e permissÃµes hierÃ¡rquicas
  â”œâ”€ ğŸ“‹ Tabela administrativa completa
  â”œâ”€ âœ… AprovaÃ§Ã£o manual de novos utilizadores
  â””â”€ ğŸ”’ Controlo granular de acesso por funcionalidade

  ï¿½ğŸ  GESTÃƒO DE TURMAS (Admin)
  â”œâ”€ âœ… CriaÃ§Ã£o e ediÃ§Ã£o de turmas com nomes seguros
  â”œâ”€ ğŸ“‹ Listagem com estatÃ­sticas visuais
  â”œâ”€ ğŸ—‘ï¸ EliminaÃ§Ã£o em cascata com limpeza de ficheiros
  â”œâ”€ ğŸ“Š EstatÃ­sticas: alunos totais vs fotos tiradas
  â”œâ”€ âœ¨ Indicador visual de turmas completas
  â””â”€ ğŸ”„ RenomeaÃ§Ã£o automÃ¡tica com movimentaÃ§Ã£o de fotos

  ğŸ‘¥ GESTÃƒO DE ALUNOS (Editor+)
  â”œâ”€ â• Adicionar alunos com processo Ãºnico global
  â”œâ”€ âœï¸ Editar dados com validaÃ§Ã£o completa
  â”œâ”€ ğŸ”„ Transferir alunos entre turmas (com fotos)
  â”œâ”€ ğŸ—‘ï¸ Remover alunos com limpeza de ficheiros
  â”œâ”€ ğŸ“ Upload em massa via CSV (substituiÃ§Ã£o/merge)
  â”œâ”€ ğŸ”¢ ValidaÃ§Ã£o de processo (apenas nÃºmeros Ãºnicos)
  â”œâ”€ ğŸ–¼ï¸ RemoÃ§Ã£o individual de fotografias
  â”œâ”€ ğŸ”„ SincronizaÃ§Ã£o automÃ¡tica com base de dados
  â”œâ”€ ğŸ“ RenomeaÃ§Ã£o automÃ¡tica de arquivos ao alterar processo
  â”œâ”€ ğŸ›¡ï¸ GestÃ£o robusta de erros com rollback automÃ¡tico
  â””â”€ ğŸ“Š Controlo duplo de estado (foto_existe + foto_tirada)

  ğŸ“¸ CAPTURA DE FOTOGRAFIAS (Editor+)
  â”œâ”€ ğŸ“· Interface avanÃ§ada com mÃºltiplas cÃ¢maras
  â”œâ”€ ğŸ‘€ PrÃ©-visualizaÃ§Ã£o em tempo real
  â”œâ”€ ğŸ¯ Captura com clique, ENTER ou toque
  â”œâ”€ ğŸ”„ Recaptura ilimitada atÃ© satisfaÃ§Ã£o
  â”œâ”€ ğŸ–¼ï¸ GeraÃ§Ã£o automÃ¡tica de thumbnails (250x250px)
  â”œâ”€ ğŸ’¾ Armazenamento seguro com nomes sanitizados
  â”œâ”€ ğŸ“± Interface otimizada para dispositivos mÃ³veis
  â”œâ”€ ğŸ¨ Drag & Drop direto no cartÃ£o do aluno
  â””â”€ ğŸ”„ AtualizaÃ§Ã£o dinÃ¢mica de contadores e estado

  ğŸ“¥ DOWNLOADS MÃšLTIPLOS (Viewer+)
  â”œâ”€ ğŸ“¦ ZIP Fotos Originais (alta resoluÃ§Ã£o por turma)
  â”œâ”€ ğŸ–¼ï¸ ZIP Thumbnails (otimizado, tamanho reduzido)
  â”œâ”€ ğŸ“„ Documento DOCX profissional por turma
  â”œâ”€ ğŸ’¾ Download individual por aluno
  â””â”€ ğŸš€ GeraÃ§Ã£o dinÃ¢mica com nomes de ficheiro seguros

  ğŸ“ GERAÃ‡ÃƒO DE DOCUMENTOS WORD
  â”œâ”€ ğŸ“„ Templates DOCX editÃ¡veis e profissionais
  â”œâ”€ ğŸ–¼ï¸ InserÃ§Ã£o automÃ¡tica de fotos redimensionadas
  â”œâ”€ ğŸ“Š Layout em tabelas organizadas com formataÃ§Ã£o
  â”œâ”€ ğŸ¨ FormataÃ§Ã£o automÃ¡tica com estilos consistentes
  â”œâ”€ ğŸ“ Redimensionamento inteligente de imagens
  â””â”€ ğŸ–¼ï¸ Uso de thumbnails para performance otimizada

  ğŸ“± INTERFACE RESPONSIVA E UX
  â”œâ”€ ğŸ’» Layout desktop otimizado
  â”œâ”€ ğŸ“± Interface mobile-first touch-friendly
  â”œâ”€ ğŸ›ï¸ Barras de aÃ§Ã£o contextuais por role
  â”œâ”€ ğŸ“‹ Modais para todas as operaÃ§Ãµes CRUD
  â”œâ”€ ğŸ¨ Feedback visual em tempo real
  â”œâ”€ â™¿ Acessibilidade e usabilidade otimizada
  â”œâ”€ ğŸŒˆ Design glassmorphism moderno
  â”œâ”€ ğŸ¯ NavegaÃ§Ã£o contextual inteligente
  â”œâ”€ ğŸ¨ Destaque visual durante drag-and-drop
  â”œâ”€ ğŸ“Š Barras de progresso com estatÃ­sticas dinÃ¢micas
  â””â”€ ğŸ”„ Scroll preservation entre operaÃ§Ãµes

  âš™ï¸  CONFIGURAÃ‡Ã•ES E ADMINISTRAÃ‡ÃƒO (Admin)
  â”œâ”€ ğŸ”§ Painel de configuraÃ§Ãµes centralizadas
  â”œâ”€ ï¿½ GestÃ£o completa de utilizadores e roles
  â”œâ”€ ğŸ“ Upload CSV com validaÃ§Ã£o avanÃ§ada
  â”œâ”€ ğŸ”„ Reset completo (nuke) de dados e ficheiros
  â”œâ”€ ğŸ“Š EstatÃ­sticas globais do sistema
  â”œâ”€ ğŸ“§ ConfiguraÃ§Ã£o de email para autenticaÃ§Ã£o
  â””â”€ ğŸ›¡ï¸ GestÃ£o de seguranÃ§a e IPs banidos

  ğŸ“§ SISTEMA DE EMAIL INTEGRADO
  â”œâ”€ ğŸ“¨ Templates HTML responsivos personalizados
  â”œâ”€ âœ… VerificaÃ§Ã£o de email no registo
  â”œâ”€ ğŸ”‘ RecuperaÃ§Ã£o de password com cÃ³digos seguros
  â”œâ”€ ğŸ¨ Design consistente com branding da aplicaÃ§Ã£o
  â”œâ”€ â° CÃ³digos com expiraÃ§Ã£o automÃ¡tica (24h)
  â”œâ”€ ğŸ”§ ConfiguraÃ§Ã£o flexÃ­vel de servidores SMTP
  â””â”€ âŒ GestÃ£o de erros com fallback apropriado

  ğŸ³ DEPLOYMENT PROFISSIONAL
  â”œâ”€ ğŸ³ ContainerizaÃ§Ã£o Docker completa
  â”œâ”€ ğŸ“‚ Mapeamento de volumes para persistÃªncia
  â”œâ”€ ğŸ”§ VariÃ¡veis de ambiente configurÃ¡veis
  â”œâ”€ ğŸ‘¤ UID/GID dinÃ¢mico para permissÃµes
  â”œâ”€ ğŸš€ Deploy produÃ§Ã£o-ready
  â”œâ”€ ğŸ“‹ Logs e monitorizaÃ§Ã£o avanÃ§ada
  â”œâ”€ ğŸ”„ Scripts de inicializaÃ§Ã£o automatizados
  â”œâ”€ ğŸ’¾ Base de dados SQLite com SQLAlchemy ORM
  â”œâ”€ ğŸ”§ ConfiguraÃ§Ã£o flexÃ­vel dev/prod
  â””â”€ ğŸ›¡ï¸ GestÃ£o segura de permissÃµes e volumes

  ğŸ“‹ ESPECIFICAÃ‡Ã•ES TÃ‰CNICAS

  Backend:      Python 3.12 + Flask + SQLAlchemy + Flask-Mail
  Frontend:     HTML5 + CSS3 + Bootstrap 5 + JavaScript ES6+
  Base Dados:   SQLite com ORM e modelos relacionais avanÃ§ados
  AutenticaÃ§Ã£o: Sistema completo com roles e anti-brute force
  Email:        Flask-Mail com templates HTML responsivos
  Imagens:      OpenCV + Pillow (PIL) + processamento avanÃ§ado
  Documentos:   python-docx com templates profissionais
  SeguranÃ§a:    Werkzeug Security + validaÃ§Ã£o + sanitizaÃ§Ã£o
  Deploy:       Docker + docker-compose + UID/GID dinÃ¢mico

  ğŸ¯ CASOS DE USO

  ğŸ« Escolas:         Sistema completo com controlo de acesso multi-utilizador
  ğŸ‘¨â€ğŸ« Professores:     Captura e visualizaÃ§Ã£o com permissÃµes granulares
  ğŸ‘¤ Editores:        GestÃ£o de alunos e captura de fotografias
  ğŸ”§ Administradores: Controlo total de utilizadores, turmas e sistema
  ğŸ“¸ FotÃ³grafos:      Interface profissional para sessÃµes organizadas
  ğŸ¢ OrganizaÃ§Ãµes:    DocumentaÃ§Ã£o digital com roles e auditoria
  ğŸ“‹ Secretarias:     RelatÃ³rios profissionais e gestÃ£o administrativa
  ğŸ›¡ï¸ IT/SeguranÃ§a:    Sistema robusto com autenticaÃ§Ã£o e logging completo

ğŸ’¡ Class Photo Booth - SoluÃ§Ã£o empresarial completa para fotografias escolares
ğŸ” Multi-user â€¢ ğŸ“± Mobile-ready â€¢ ğŸš€ Production-ready â€¢ ğŸ›¡ï¸ Enterprise-grade

## ğŸ†• Melhorias Recentes (v4.1)

### ğŸ”„ **RenomeaÃ§Ã£o AutomÃ¡tica de Arquivos**
- Quando o processo de um aluno Ã© alterado, todas as fotos sÃ£o automaticamente renomeadas
- MantÃ©m consistÃªncia entre base de dados e sistema de ficheiros
- GestÃ£o robusta de erros com rollback automÃ¡tico em caso de falha

### ğŸ“Š **Controlo de Estado AvanÃ§ado**
- Duplo controlo com flags `foto_existe` e `foto_tirada`
- SincronizaÃ§Ã£o precisa entre base de dados e ficheiros
- EstatÃ­sticas dinÃ¢micas em tempo real

### ğŸ¨ **Interface Aprimorada**
- Drag & Drop direto nos cartÃµes dos alunos
- Destaque visual durante operaÃ§Ãµes de arraste
- PreservaÃ§Ã£o de scroll entre operaÃ§Ãµes
- Barras de progresso com estatÃ­sticas atualizadas

### ğŸ›¡ï¸ **Robustez e SeguranÃ§a**
- Sistema de rollback automÃ¡tico em operaÃ§Ãµes crÃ­ticas
- ValidaÃ§Ã£o aprimorada de dados e integridade
- GestÃ£o de erros com feedback especÃ­fico ao utilizador

## ğŸš€ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o

### ğŸ“‹ **PrÃ©-requisitos**
- Docker & Docker Compose
- Arquivo `.env` configurado (veja exemplo abaixo)

### âš™ï¸ **ConfiguraÃ§Ã£o do .env**
```env
# ConfiguraÃ§Ãµes da aplicaÃ§Ã£o
FLASKAPP_NAME=class-photo-booth
FLASKAPP_FILE=app.py
FLASKAPP_PORT=80
FLASKAPP_DEBUG=True
FLASKAPP_SECRET_KEY=your-secret-key-here

# ConfiguraÃ§Ãµes de email
MAIL_USERNAME=your-email@outlook.com
MAIL_PASSWORD=your-password
MAIL_SENDER=Class Photo Booth <your-email@outlook.com>

# ConfiguraÃ§Ãµes Docker
TZ=Europe/Lisbon
UID=1000
GID=1000
```

### ğŸ³ **InstalaÃ§Ã£o com Docker**
```bash
# 1. Clonar o repositÃ³rio
git clone https://github.com/jpedrodias/class_photo_booth.git
cd class_photo_booth

# 2. Configurar .env
# Criar .env baseado no exemplo abaixo
# Editar .env com suas configuraÃ§Ãµes

# 3. Construir e executar
docker-compose up -d

# 4. Aceder Ã  aplicaÃ§Ã£o
# http://localhost (ou porta configurada)
```

### ğŸ”§ **Primeiro Acesso**
1. Aceder Ã  aplicaÃ§Ã£o no navegador
2. Criar primeira conta (serÃ¡ automaticamente admin)
3. Configurar email de verificaÃ§Ã£o
4. Importar dados via CSV (opcional)
5. ComeÃ§ar a usar!

## ğŸ“š DocumentaÃ§Ã£o Completa

Para documentaÃ§Ã£o tÃ©cnica detalhada, consulte o arquivo [`SPECIFICATION.md`](SPECIFICATION.md) que inclui:
- Arquitetura completa do sistema
- Modelos de base de dados
- Fluxos de utilizador
- ConsideraÃ§Ãµes de seguranÃ§a
- Guias de deployment

## ğŸ¤ ContribuiÃ§Ãµes

ContribuiÃ§Ãµes sÃ£o bem-vindas! Para contribuir:

1. FaÃ§a fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a [MIT License](LICENSE) - veja o arquivo LICENSE para detalhes.

## ğŸ“ Suporte

Para dÃºvidas, sugestÃµes ou problemas:
- ğŸ“§ Email: jpedrodias@gmail.com
- ğŸ› Issues: [GitHub Issues](https://github.com/jpedrodias/class_photo_booth/issues)
- ğŸ“– DocumentaÃ§Ã£o: [SPECIFICATION.md](SPECIFICATION.md)

---

**Class Photo Booth v4.1** - Desenvolvido com â¤ï¸ para facilitar a gestÃ£o de fotografias escolares
```
